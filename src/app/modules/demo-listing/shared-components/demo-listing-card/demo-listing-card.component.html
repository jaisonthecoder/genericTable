
<div class="flex flex-col flex-auto min-w-0 card-list-component">
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6">

                <div class="w-full mx-auto">
                    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 cardview-scroll-wrapper" >
        

                <ng-container *ngFor="let request of sourceData; let i = index;">
                    <div class="flex cardList   rounded flex-col gap-2" (dblclick)="viewDetails(request)">
                        <section class="cardList--header flex gap-2 max-h-10 w-full mb-3" >
                            <content class="cardList--header-content  w-full" [ngClass]="{'hideEta' : request?.rotationNumber ==''}">
                                <h1 
                                    class="text-mgBlueDeepSaphire text-lg font-bold truncate text-[#2D3955]"
                                    [matTooltip]="request?.vesselName"  translate>
                                    {{(request?.vesselName && request?.vesselName.length >0) ? (request?.vesselName | truncateText:20) : 'NA'}} 
                                </h1>
                                
                                <div class="flex gap-1 flex-row items-center "  >
                                    <img class="w-4 mb-2"  src="{{ 'Clock.svg' | imagePath }}" />
                                    <small class="text-[#5392D9] mr-2 separate-right pr-2"
                                        *ngIf="!isATAETA(request)">ETA</small>
                                    <small class="text-[#5392D9] mr-2 separate-right pr-2"
                                        *ngIf="isATAETA(request)">ATA</small>
                                    <small class="text-[#868686] flex flex-col truncate-text" *ngIf="!isATAETA(request)">
                                        <span>{{request?.eta}}</span>
                                    </small>
                                    <small class="text-[#868686] flex flex-col truncate-text" *ngIf="isATAETA(request)">
                                        <span>{{request?.ata}}</span>
                                    </small>
                               
                                </div>
                            </content>
                            <div class="card-div-action-buttons">
                                <button mat-icon-button [matMenuTriggerFor]="summaryMenu">
                                    <img class="icon-size-5" src="{{ 'vertical-dots.svg' | imagePath }}" />
                                </button>
                                <mat-menu #summaryMenu="matMenu">
                
                                    <button *ngIf="request?.terminalStatus !== reqStatus.Pending" mat-menu-item
                                        (click)="editClick(request)"
                                        [disabled]="isDisableActions(request, 'modify')? 'disabled':null">
                                        <img class="icon-size-8 mr-3" src="{{ 'Modify.png' | imagePath }}">
                                        <span class="text-[#5392D9]">{{ "Modify" | transloco }}</span>
                                    </button>
                                    <button *ngIf="request?.terminalStatus === reqStatus.Pending" mat-menu-item
                                        (click)="editClick(request)"
                                        [disabled]="isDisableActions(request, 'modify')? 'disabled':null">
                                        <img class="icon-size-8 mr-3" src="{{ 'modify_disable.svg' | imagePath }}">
                                        <span class="text-[#CBCBCB]">{{ "Modify" | transloco }}</span>
                                    </button>
                
                                    <button *ngIf="request?.terminalStatus === reqStatus.Draft" mat-menu-item
                                        (click)="deleteClick(request)"
                                        [disabled]="isDisableActions(request, 'delete')? null :'disabled'">
                                        <img class="icon-size-8 mr-3" src="{{ 'delete_blue.svg' | imagePath }}">
                                        <div class="text-[#5392D9]"> {{ "Delete" | transloco }} </div>
                                    </button>
                
                                    <button *ngIf="request?.terminalStatus !== reqStatus.Draft" mat-menu-item
                                        (click)="deleteClick(request)"
                                        [disabled]="isDisableActions(request, 'delete')? null :'disabled'">
                                        <img class="icon-size-8 mr-3" src="{{ 'delete.png' | imagePath }}">
                                        <div class="text-[#CBCBCB]"> {{ "Delete" | transloco }} </div>
                                    </button>
                
                                </mat-menu>
                            </div>
                        </section>
                        <hr class="horizontal-line">
                                                 
                        <section class="cardList--footer flex w-full  whitespace-nowrap py-3 ">                               
                            <div class="flex flex-col w-6/12">
                                <small class="text-[#868686] pl-4">Booking No.</small>
                                <span class="text-[#000000] text-[13px] pl-4 truncate-text">{{request?.bookingNumber}}</span>
                            </div>
                            <div class="flex flex-col w-6/12">
                                <small class="text-[#868686]">Rotation Number</small>
                                <span class="text-[#000000] text-[13px] truncate-text">{{request?.rotationNumber?request?.rotationNumber:'N/A'}}</span>
                            </div>
                        </section>
                        <hr class="horizontal-line mb-3">
                        <section class="cardList--footer flex w-full  whitespace-nowrap py-3 ">                               
                            <div class="flex flex-col w-6/12 ">
                                <small class="text-[#868686] pl-4">Booking Type</small>
                                <span class="text-[#000000] text-[13px] pl-4 truncate-text" [matTooltip]="request?.bookingType">{{request?.bookingType |
                                    truncateText:18}}</span>
                            </div>
                            <div class="flex flex-col w-6/12 ">
                                <small class="text-[#868686]">Terminal</small>
                                <span class="text-[#000000] text-[13px] truncate-text" [matTooltip]="request?.bookingType">{{request?.terminal | truncateText:18}}</span>
                            </div>
                        </section>
                        
                        <section>
                            <div class="blue-box">
                                <div class="flex flex-row  ">
                                    <div flex="10" class="items-center pt-2 pr-2 w-4/12"><small class="text-[#868686] pl-4">Shipper</small></div>
                                    <div flex="10" class="blue-vertical-line mt-1">
                                    </div>
                                    <div flex="80" class="items-center pt-2 pl-3 w-8/12 truncate-text"><span class="text-[#000000]  text-[13px]"
                                        [matTooltip]="request?.shipper">{{request?.shipper | truncateText:25}}</span></div>
                                </div>
                            </div>
                            <div class="flex border-[0.5px] whitespace-nowrap mb-3">
                                <div class="flex bg-neutral-100" style="min-width: 45%;">
                                        <div class="flex p-2  flex-col w-full text-left ">
                                            <small class="w-full mt-1 text-[#868686]"> Last Updated Date
                                            </small>
                                            <small class="font-semibold mb-2">
                                                {{request?.lastUpdatedDate}}
                                            </small>
                                        </div>                                    
                                </div>
                                <div class="flex justify-between">
                                    <div class="gap-2 flex-col items-center flex p-1 pt-2 w-full text-left">
                                        <span class="pr-1 flex align-center">
                                            <img class="w-6" style="min-width: 24px;" src="{{request?.customsStatusImgPath}}"
                                                [matTooltip]="getStatusText(request?.customsStatus)" />
                                        </span>
                                        <small class="pl-1 flex items-center font-semibold {{getTextColor(request?.customsStatus)}}"> Customs
                                        </small>
                                    </div>
                                        <div class="gap-2 flex-col items-center flex p-1 pt-2 w-full text-left">
                                            <span class="pr-1 flex align-center">
                                                <img class="w-6" style="min-width: 24px;" src="{{request?.terminalStatusImgPath}}"
                                                    [matTooltip]="getStatusText(request?.terminalStatus)" />
                                            </span>
                                            <small class="pl-1 flex items-center font-semibold {{getTextColor(request?.terminalStatus)}}"> Terminal
                                            </small>
                                        </div>
                                        
                                </div>
                            </div>
                        </section>
                       
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
    <mat-paginator  class="bg-transparent" #paginator [pageSize]="gridConfig?.pageSize"
    [pageSizeOptions]="gridConfig?.itemperpageList" [showFirstLastButtons]="true" [length]="gridConfig?.totalCount" [pageIndex]="gridConfig?.pageIndex - 1"
    (page)="onPageEventChange($event)" [showFirstLastButtons]="true">
  </mat-paginator>
</div>




<div class="w-full h-full">

</div>